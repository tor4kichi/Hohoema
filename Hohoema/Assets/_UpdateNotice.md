## v0.22.0

### 新着動画の自動チェック機能を大きく変更しました

これまでの「新着動画」を「購読管理」と改め、さらに「あとで見る」を含めて大幅に変更しました。

#### 購読機能とは

* 購読機能とは、ユーザー動画やチャンネル動画、マイリストなどを「アプリが自動で巡回して」＋「検出した新着動画を「あとで見る」へと追加」してくれる機能です。
* 自動で巡回する先を指定するために、ユーザー動画等を「購読ソース」として設定する必要があります。

#### 購読ソースの設定方法

* ユーザー動画やチャンネル動画であれば動画リストの**動画アイテムメニューから「投稿者を購読に追加」を選択する**ことで、新着チェックに購読設定を追加できます。
* 他にもマイリスト動画一覧のページや、キーワード検索結果、タグ検索結果の画面からも「購読に追加」のボタンが配置されているので、使いやすい購読ソースを選んで購読に追加していきましょう。
  * ちなみに新着チェックできるのは「ユーザー動画」「チャンネル動画」「マイリスト」「キーワード検索」「タグ検索」「シリーズ動画（対応予定）」です。
* 購読に追加した情報はメニューの「購読管理」から確認できます。

### 新着動画の「あとで見る」上での並び順について

* 新着動画の「あとで見る」への追加順は購読ソースの並び順に応じます。
  * 先に見たい動画シリーズがある場合は、購読ソースをより上側に配置することで、あとで見る上でより先に再生される位置に追加されます。
* 購読ソースの順番を変えるには、購読管理画面から購読ソースをドラッグ＆ドロップで並べ替えたり、購読ソース毎のメニューにある「移動」を利用することで出来ます。
* 「あとで見る」へ新着動画が追加される時には、既に「あとで見る」に追加済みの動画も考慮して並び替えが行なわれます。
  * つまり「part3の動画 → part2の動画」じゃなくて「part2の動画 → part3の動画」と並ぶようにしてます。
* さらにユーザー動画を購読ソースにした場合の「あとで見る」への自動追加には特殊挙動があります。
  * 投稿者が複数のシリーズ動画を投稿していると、アプリが何もしなければ「Aシリーズのpart1 → Bシリーズのpart1 → Aシリーズのpart2」といった具合で連続視聴しづらい並びであとで見るに追加されてしまいます。
  * そこでユーザー動画の購読動画をあとで見るへと追加する際は、ユーザー動画購読ソース毎に「動画タイトルの類似度でグループ化 → 投稿日の古い順」と並び変えています。
  * あとで見るへの追加順を確実にコントロールしたい場合は、ユーザー動画一覧ではなくシリーズやマイリストを購読ソースとして選択し直してください。

### 購読管理の細かい動作について

* 新着動画で利用していた新着ソースは購読管理の購読ソースに自動で引き継がれます。
* 購読管理の自動更新は１時間毎です。更新間隔の変更には対応していません。
  * 手動更新の場合でも各購読ソース毎に前回更新から5分以上間隔を空けないと更新されないようになってます。
* 購読管理では「ここから連続再生」が利用できます。「ここから連続再生」を選択すると選択した動画を先頭に最新投稿までの動画を全て「あとで見る」へ追加してすぐに再生できます。 
  * （v0.22.0時点では購読管理ページのみで対応。マイリスト一覧等では今後対応予定）

### その他の修正

* 「キュー」機能を削除しました
* アプリメニューの動画アイテムの並びを変更
  * ニコニコサービス → アプリ機能 → マイリスト と並ぶように変更しました。
* メニューにあとで見るの未視聴動画数を表示
  * この未視聴動画数はボタンになっていて、押すと「あとで見る」の先頭から動画再生を開始します
    * XboxOneなどカーソル移動では押せません


## v0.22.1

* 購読ソース追加時にアプリ内通知を表示
* 購読ソースを追加しても購読管理ページの購読ソース一覧に表示されてなかった問題に対応
* ニコレポの動画アイテムから「投稿者を購読に追加」が出来なかった問題に対応
* 新規インストールやアップデート後にコメントが表示されなくなっていた問題に対応
  * 共有NGScoreの初期値が0になっていたことが原因でした。

## v0.22.2

* 動画アイテムの「投稿者を購読に追加」の位置を調整
* ユーザーシリーズ一覧とシリーズ動画一覧の表示に対応
* 動画情報ページの投稿者ボタンからシリーズ一覧へのアクセスを追加
* 動画情報ページの下部にシリーズ情報を追加
* シリーズ動画の購読に対応
  * ユーザーシリーズ一覧のシリーズアイテムのアイテムメニュー、またはシリーズ動画一覧ページの「購読追加」ボタンから追加できます

----------

## v0.21.0

### キャッシュ機能の改善

キャッシュ機能のデータ保持方法を切り替えたため、既にキャッシュ機能を利用中の方は、**一度キャッシュ保存フォルダを再設定いただくことで、内部情報が更新されて一覧が表示される**ようになります。

* 各動画アイテムのキャッシュ状態表示が変わりました
  * キャッシュ状態 + 指定画質 という順で表示されます
* キャッシュしたい画質の指定ができるようになりました
  * 動画リストのアイテムメニューから利用できます
  * 画質指定なしの場合は設定ページの「キャッシュする動画の画質」の指定画質を優先し、さらにその画質が利用できない場合は、より低画質の利用可能な画質をキャッシュします
  * 画質を指定した場合は、指定した画質がキャッシュできない場合は「キャッシュ失敗」として処理します。（その場合は、利用可能な時間帯に再度、手動でキャッシュ取得を試してみてください）
* 一般会員または非ログインユーザーの場合は視聴とキャッシュダウンロードはどちらか一つしか許容しないようにアプリ上で制限しています
  * **キャッシュ中に視聴を開始した場合は強制的にキャッシュ処理を中断します。** 視聴終了後（プレイヤーを閉じたタイミング）でキャッシュ処理を再開します
  * 今後、メニュー上などでキャッシュ進捗状態を確認できるように対応して、「視聴するかキャッシュ継続するか」を判断できるように対応予定です

### 再生プレイリストの「キュー」の修正

* マイリスト再生中にキューに動画が追加された場合、キューの動画を消化してからマイリストの連続再生に戻るようにしました
* キューに追加した際にマイリストから再生中でも自動再生開始が始まっていた問題に対応
  * 自動再生開始の条件に「プレイヤーを閉じていた場合」を追加して対応しました

### その他の修正

* 単品リピートを指定してもリピートされていなかった問題に対応
* プレイヤーの再生項目変更処理中の例外がエラーログに出力されるよう修正

## v0.21.1

* ランキングジャンル一覧ページを最初に開いた時にすべてのカテゴリのタグを取得する動作を追加
* ランキングのジャンル表示とタグ表示の設定を別々のダイアログに分けました
  * 表示するジャンルは全部を一覧し、表示するものだけチェックを付ける形になってます
  * タグは非表示指定したものだけど表示復帰させる対象のみを選択する形になってます
* 動画再生中にアプリ中断後、復帰した際に再生位置が最初に戻ってしまっていた問題に対応
* 動画プレイヤーのUIに単品リピートボタンを追加 #800
  * プレイヤーUIの左下、ミュートボタンの右隣にあります
* ニコレポページが別ページから戻ってきた時に再更新が必要だった問題に対応

## v0.21.5

* 動画リストアイテムのコンテキストメニューが表示されなかった問題に対応
* 動画投稿者の非表示設定を解除する機能を動画リストアイテムのコンテキストメニューに追加

## v0.21.6

### 動画コメント関連

* 動画のコメントリストを追加
  * コメントのメニューからユーザーIDを指定した非表示設定に対応
* コメントのキーワードNGのUIを変更
  * キーワードごとにテキストボックスを分ける形に変更
* コメントの置換機能を追加
  * 自動草刈り機能をコメントの置換機能に置き換えました

### その他

* キャッシュ管理ページの表示順をリクエスト順に並ぶように修正
* 動画リストの動画アイテムメニューにある「共有 → 動画リンク」からリンクが取得できなかった問題に対応

## v0.21.7

* 生放送の検索と視聴が出来ない問題に対応
  * 使用していたAPIがサポート終了していたため、別APIに差し替えて対応しました
  * 生放送検索の検索オプションも若干変更してます
* 動画リストアイテムの表示にチラツキが発生していた問題に対応
* 流れるコメントが映像バッファ中でも移動していた問題に対応
* 画質変更中に動画を閉じた際、画面表示無しで再生が続いていた問題に対応

## v0.21.8

* 生放送の視聴が出来ない問題に対応
  * 前回のアプリアップデート以降に生放送の視聴情報のやり取り方法が変更された影響を受けたものでした
  * 合わせてチャンネルや公式放送で視聴できなかった問題に対応
* コメント数の多い生放送において、視聴開始時にアプリが固まる問題に対応
  * 初回のコメント取得数を 1000 -> 50 に変更しました
* 生放送の流れるコメントがたまにチラツク問題に対応
* 生放送視聴時、184コマンドをデフォルトで有効にする設定が反映されない問題に対応
* 生放送視聴時、コメントコマンドの編集で「任意入力コマンド」を入力している最中に投稿コメントのテキストボックスにフォーカスが強制的に移ってしまう問題に対応
* タブレットで生放送を視聴した際に画面上部の余白がなく上側のボタンが押しづらかった問題に対応

## v0.21.9

* タイムシフト視聴に再対応
* タイムシフト一覧ページが表示できなかった問題に対応
* 生放送情報ページが表示出来なかった問題に対応
* 生放送リストアイテムに「タイムシフト予約」ボタンを追加
* 生放送リストアイテムに生放送の放送状態、タイムシフト予約状況等の補助表示が消えていた問題に対応

## v0.21.12

* アプリが時々クラッシュしていた問題に対応
* マイリストページなどでマイリスト名が表示されない箇所があった問題に対応
* ログインユーザーマイリストの連続再生が利用できなかった問題に対応
* 「キューに追加」で再生していた場合に、キュー内の連続再生が出来ないことがあった問題に対応
* マイリスト動画一覧ページで動画アイテムの投稿日が反映されてなかった問題に対応
* プレイヤーを別ウィンドウかつ小さく最前面で表示していた場合に、次の動画を再生するときに小さく最前面が解除されてしまっていた問題に対応
* 動画プレイヤーの表示サイズが変更されても表示レイアウトが変わらなかった問題に対応

## v0.21.13

* 動画視聴時、コメントのコマンドが反映されてなかった問題に対応

## v0.21.15

* 別ウィンドウ表示時にマイリストの作成が出来なかった問題に対応

## v0.21.16

* 一部の動画で再生できなかったり、動画情報ページの表示に失敗していた問題に対応
  * 動画情報に翻訳情報が含まれていた場合に正しく解析できていなかったことが原因でした
* 動画タイトルの一部記号がHTMLエスケープされたまま表示されていた問題に対応
* 非ログインユーザーで動画視聴時にコメントが表示されなかった問題に対応

## v0.21.17

* XboxOneやタブレットで戻る操作を繰り返すとアプリが閉じてしまう問題に対応
* 動画項目の選択時に同一プレイリスト内でプレイする場合でも再生中プレイリスト一覧のリセットが掛かっていた問題に対応

----------

## v0.20.0

### 「あとで見る」の変更

「あとで見る」はこれまでアプリを再起動したら内容が消えていましたが、v0.20.0 以降はローカルに保存されるようになります。

さらに、あとで見るで再生した際は「視聴完了したら自動で消す」という動作でしたが、**v0.20.0からは手動での削除が必要に**なります。

これは「途中まで見ていたものを意図せず消してしまった」というパターンを減らしたいためです。なお、視聴済み動画のみをまとめて消す操作の補助にあとで見るページに「視聴済みを削除」ボタンを追加しています。

> ちなみに視聴済み動画はタイトル文字が少し薄く表示されます。

### 「キュー」の追加

「あとで見る」の置き換えとして「キュー」を追加しました。アプリ起動中のみ保持される再生待ちリストです。**基本的に動画を見る際はキューに追加された上で再生されます。**

動画リストアイテムのメニューから「キューに追加」を選択すると自由に追加できます。

視聴支援として、何も再生してない状態で「キューに追加」を選択した場合に、プレイヤーを小窓表示して再生を開始します。（「別ウィンドウで視聴」を選択していた場合は別ウィンドウで再生開始）

例えば「ランキングであれ見ようこれ見ようと整理しつつ見よう」といった場合に動画を「キューに追加」していくと良いです。

### その他の更新点

#### メニューと各ページ

* ログインユーザーの視聴履歴ページが正常に表示されなかった問題に対応
* 小画面時のメニューを開くボタンと戻るボタンの位置を入れ替えました
* 設定ページのレイアウトを調整
  * モバイル表示やコントローラー表示といった表示切替を「レイアウトモード」という項目にまとめました。
* 動画リストのアイテムに対する複数選択操作をアイテムメニューから開始できるようにしました
  * 選択終了はアイテムメニュー内にあります。（またはページ切り替えでも選択終了できます）
  
#### プレイヤー

* プレイヤー設定の内部構造を変更したため、一部設定（「NGコメント設定」「プレイリストのシャッフル・単品連続再生」「別ウィンドウで表示」）がリセットされています。再設定をお願いします
* 生放送プレイヤーの画質及び低遅延の変更をコントロールUIの左下にある「現在の画質名称（「中画質」など）」とテキスト表示されたボタンから変更するようにしました
* プレイヤーページの表示要素に対するキャッシュを有効化して処理を軽量化。二回目以降の再生開始のレスポンスを改善
* 小窓表示に大きいサイズを追加。ウィンドウを大きく表示してる時には従来比2倍のサイズで表示
* 小窓表示と小さく最前面のUIを共通化
  * 小窓表示時のプレイヤーUIを「小さく最前面」表示時と同様に、画面タッチでUIが切り替わる形に変更しました。
* コメント装飾の不許可設定を削除
* コメントのNG共有スコア評価が機能していなかった問題に対応
* 動画情報に「#1:23」といったリンクが含まれていた場合にリンク抽出処理に失敗していた問題に対応
* 【デスクトップ限定】別ウィンドウ表示時の「メインウィンドウ」ボタンが「メインウィンドウをアクティブにする」というの挙動に変わりました
  * メインウィンドウで再生するにはプレイヤー右上の「…」から「メインウィンドウで視聴」を選択してください。
* プレイヤー再生時の画面最大化の自動切換えを削除しました（主にタブレット端末に関係）

### コントローラー操作について

* レイアウトを変更
  * メニューを常にページの左側に配置するよう変更しました。
* Viewボタンの操作を「メニューを開く」から「プレイヤーを小窓と全体表示の切替」に変更しました

### 既知の不具合

* 複数選択中に「キャッシュをDL」「キャッシュを削除」が選択できない
* 検索ボックスにフォーカスしても検索履歴が表示されない

## v0.20.1

* テーマ変更にアプリ再起動を求めない形に対応 #790
* 動画プレイヤーでの自動音量調整機能に対応
  * ニコニコ動画サービスによる機能です
  * 音量を自動調整し動画ごとの音量差を緩和するもので音質を損なうことはありません
  * 利用しない場合は、プレイヤーの音量変更ボタンから「動画ごとの音量差を減らす」をOFFにします
  * [公式ブログでの説明：ニコニコ動画のラウドネスノーマライゼーション（自動音量調整機能）について](https://ch.nicovideo.jp/nicotalk/blomaga/ar1848078)
* 次パート自動移動機能をOFFにできなかった問題に対応
* 次パート動画検出に動画ページ情報内のシリーズ情報を優先利用するように対応

## v0.20.3

* プレイヤーの別ウィンドウ表示が表示されず、音声だけ流れていた問題に対応 #795
* 動画タイトルによる非表示設定が機能していなかった問題に対応 #794
* 動画プレイヤーでのマイリストやローカルマイリストの選択肢が表示されていなかった問題に対応 #793
* 動画プレイヤーにて関連動画を表示しようとした際にクラッシュしてしまう問題に対応
* ローカルマイリストページで「視聴済みを削除」ボタンが表示されていた問題に対応
  * 「視聴済みを削除」ボタンは「あとで見る」ページでのみ表示する予定のものでした。
* マイリストページでの動画アイテムを削除するメニューコマンドが表示されていなかった問題に対応
* マイリスト、ローカルマリイストのアイテム追加・削除時のアプリ内通知が表示されていなかった問題に対応
* デバッグモード有効にした際、設定ページから表示言語を変更できるように機能追加 #792
  * 現状では「日本語」とほとんど自動翻訳の「中国語（簡体字）」に対応
* アプリの利用ライブラリのバージョン更新
  * WindowsCommunityToolkit v2.2.0 -> v5.1.1

## v0.20.4

* 再生中コンテンツのタイトルをタスクバーのウィンドウタイトルとして表示
* メニューの「視聴履歴」が「ニコレポ」と表示されていた問題に対応
* 動画再生開始時のカクツキをやや改善
  * コメントのコマンド適用を再生準備時に一括で処理していたものを、各コメント表示時に分散させるよう変更しました
* 購読機能（メニュー上では「新着動画」と表記）の自動更新や購読への追加などが機能していなかった問題に対応
* テーマ設定を「システム設定に準じる」にしても起動時のテーマが適用されてしまっていた問題に対応 #790
* ランキングでタグを変更した際に自動更新されなかった問題に対応

## v0.20.5

* 購読機能（メニュー上では「新着動画」と表記）の自動更新や購読への追加などが機能していなかった問題に対応
* 購読による新着通知から再生開始できなかった問題に対応

## v0.20.6

* 動画プレイヤーの関連情報が更新されなかった問題に対応 #796
* コメントのcenter/nakaを非表示に変更
  * 今後、コマンドNG設定から変更できるように対応予定
* 動画情報ページの「投稿者の動画一覧」が開けなかった問題に対応

## v0.20.7

* 別ウィンドウ切り替え後に音量変更が反映されなかった問題に対応
* 音量設定のデフォルトを 0.5 から 1.0 に変更
  * 自動音量調整機能への対応に合わせるものです
  * 新規インストールの場合のみ影響します

## v0.20.8

* 【XboxOne】メニューからの検索が動作しない問題に対応
  * 検索テキストボックスを検索ページを開くボタンに置き換えました
* 【XboxOne】メニューのログインボタンや設定ボタンにカーソルが移動できない問題に対応
  * 問題が継続する場合は改めてお知らせください

## v0.20.9

* 動画プレイヤーのコピーボタン（動画ＩＤやリンクをコピーできる）が大画面表示時しか表示されていなかった問題に対応
* 動画プレイヤーのコピーボタンが機能していなかった問題に対応
* マウス操作時に画面サイズを大きくするとコントローラー向けＵＩに切り替わる動作を削除しました

------

## 0.19.6

> ニコニコ側のウェブページ構造に変更が加えられたため、Hohoema内での表示にいくつか問題が発生していました

* ログイン出来なかった問題に対応しました
* ランキングページにおいてジャンルタグが取得出来ていなかった問題に対応しました
* ユーザー情報ページでマイリスト一覧が取得できていなかった問題に対応しました
* オススメページはオススメ動画が取得出来ない状況になったためメニューから一旦削除しました
  * 再度オススメコンテンツが取得できるようになったら再対応する予定です

------

## 0.19.5

* 動画リストを操作しているときに意図しないスクロールが発生していた問題に対応しました
* 動画再生完了時に流れるコメントが一部停止せず動いてしまっていた問題に対応しました

------

## v0.19.0

* ランキングのジャンルに対応しました
  * ジャンルページの四角囲まれたボタンはジャンルごとの「人気のタグ」です
  * 一番上の囲みの無い下付き線ありの部分が「ジャンル」です
  * 「人気のタグ」は各ジャンルのページにアクセスするまで表示されません
  * 前バージョンにあった「好きなランキング」「非表示ランキング」はジャンルへの移行で内部データがガラっと変わったため一旦削除しています
  * 改めて「お気に入りタグ」「ジャンルを隠す」「タグを隠す」という形で組みなおしましたので、お手数おかけしますが再度の登録をお願いします  
* 「すごく高画質」の設定を保存するように修正
* 【タブレットモード】全画面表示のタイトルバー部分がクリックできない問題に対応
* オススメ動画ページでのアイテムメニューが表示されない問題に対応
* ピン留めの登録反映に再起動が必要だった問題に対応
* 二段階認証を設定していた場合にログインが完了できない問題に対応

以下はHohoemaでの新ランキング機能の紹介になります

### 人気のタグは「お気に入り」と「隠す」ができます

各タグの上でアイテムメニュー（右クリックや長押し、Menuボタンを押す）を開くと

* お気に入りに追加
* このタグを隠す

という項目が表示されます。

お気に入りに追加すると、ジャンルページの一番左側のスペースに任意のタグを表示させることが出来ます。

タグを隠すと、ジャンルページ上でのみ表示されなくなります。（各ジャンルページでは非表示になりません）また、非表示にしたタグはジャンルページ右上の設定から再表示ができます。

お気に入りを解除する場合には、追加時と同様にお気に入りしたタグからアイテムメニューを開いて「お気に入りから削除」を選択します。

### 「人気のタグ」は入れ替わることがあります

「人気のタグ」はその時々のタグの人気度合いによって削除されたり追加されたりする仕組みになっているそうです。

特に「話題」ジャンルは最短で１日で入れ替わりが発生するとのことです。

ですので、話題ジャンルのタグを「お気に入り」したり、ピン留めしたりしているとアクセスしてもタグ指定ができないような動作に出くわすことがあるかもしれません。

### ジャンルはまるごと隠せます

タグを一つずつ選ぶのではなくジャンルをまるっと非表示にしたい場合は、各ジャンルの上でアイテムメニューを開いて「このジャンルを隠す」を選択します。

元に戻したい場合は、タグと同様にジャンルページ右上の設定から再表示させることができます。

なお、「人気のタグ」はお気に入りに追加できますが、ジャンルはお気に入りに追加できません。

### ランキング仕様変更による影響について

* 「ピン留め」は再登録が必要です
  * ランキングの「カテゴリ」→「ジャンル」への変更を内部的にも行っているため、**ピン留めの再登録が必要です**
  * ジャンルだけでなく「人気のタグ」についてもピン留めできるよう対応してます
  * 「人気のタグ」が削除されることがありますが、その場合はピン留めからは自動で削除されないので、各自で削除をお願いします。
* 好きなランキング・非表示ランキングカテゴリ
  * 最初の方でも触れましたが、「好きなランキング」「非表示ランキング」はジャンルへの移行で内部データがガラっと変わったため一旦削除しています
  * 「お気に入りタグ」「ジャンルを隠す」「タグを隠す」から改めて登録をお願いします




